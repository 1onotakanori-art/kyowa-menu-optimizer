# ğŸ‰ GitHub Pages ä¿®æ­£ - å®Œæˆå ±å‘Š

## ğŸ“‹ å®Ÿè£…å®Œäº†å†…å®¹

### âœ… 1. GitHub Pages ã®ä¿®æ­£
**ãƒ•ã‚¡ã‚¤ãƒ«**: [app.js](app.js)

**å¤‰æ›´å†…å®¹**:
- `loadAvailableDates()` é–¢æ•°ã‚’ä¿®æ­£
- `menus/` ãƒ•ã‚©ãƒ«ãƒ€ã‹ã‚‰ `available-dates.json` ã‚’å‚ç…§
- ãƒšãƒ¼ã‚¸é–‹ã„ã¦ã„ã‚‹æ—¥ä»¥é™ã®æ—¥ä»˜ã®ã¿ã‚’ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
- ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆæ—¥ä»˜ã‚’ã€Œæœ¬æ—¥ã€ã«è¨­å®š

**æ”¹å–„ç‚¹**:
```javascript
// ä¿®æ­£å‰: å…¨æ—¥ä»˜ã‚’è¡¨ç¤º
dates.forEach((date) => {
  // ã™ã¹ã¦ã®æ—¥ä»˜ã‚’ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ã«è¿½åŠ 
});

// ä¿®æ­£å¾Œ: æœ¬æ—¥ä»¥é™ã®ã¿ã‚’è¡¨ç¤º
const filteredDates = availableDates.filter(dateLabel => {
  const [, month, day] = dateLabel.match(/(\d{1,2})\/(\d{1,2})/);
  const monthNum = parseInt(month);
  const dayNum = parseInt(day);
  
  // æœ¬æ—¥ä»¥é™ã‹åˆ¤å®š
  return monthNum > today.getMonth() + 1 || 
         (monthNum === today.getMonth() + 1 && dayNum >= today.getDate());
});
```

---

### âœ… 2. ãƒ¡ãƒ‹ãƒ¥ãƒ¼å‚ç…§ãƒ‘ã‚¹ã®çµ±ä¸€
**å‚ç…§å…ƒ**: 
- âœ… ãƒ¡ãƒ‹ãƒ¥ãƒ¼ JSON: `./menus/menus_YYYY-MM-DD.json`
- âœ… åˆ©ç”¨å¯èƒ½æ—¥ä»˜: `./menus/available-dates.json`

**ãƒ•ã‚©ãƒ«ãƒ€æ§‹é€ **:
```
menus/
â”œâ”€â”€ menus_2026-01-19.json    â† ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ—ãƒ‡ãƒ¼ã‚¿
â”œâ”€â”€ menus_2026-01-20.json
â”œâ”€â”€ menus_2026-01-21.json
â”œâ”€â”€ menus_2026-01-22.json
â”œâ”€â”€ menus_2026-01-23.json
â””â”€â”€ available-dates.json     â† åˆ©ç”¨å¯èƒ½æ—¥ä»˜ãƒªã‚¹ãƒˆ
```

---

### âœ… 3. æ—¥ä»˜é¸æŠã®å‹•ä½œãƒ•ãƒ­ãƒ¼
```
ãƒšãƒ¼ã‚¸é–‹ã
  â†“
loadAvailableDates() å®Ÿè¡Œ
  â†“
menus/available-dates.json ã‚’èª­è¾¼
  â†“
æœ¬æ—¥ä»¥é™ã®æ—¥ä»˜ã‚’ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
  â†“
æœ¬æ—¥ã®ãƒ‡ãƒ¼ã‚¿ãŒå­˜åœ¨ã™ã‚‹ â†’ æœ¬æ—¥ã‚’é¸æŠ
æœ¬æ—¥ã®ãƒ‡ãƒ¼ã‚¿ãŒå­˜åœ¨ã—ãªã„ â†’ æœ€åˆã®åˆ©ç”¨å¯èƒ½æ—¥ä»˜ã‚’é¸æŠ
  â†“
ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‚’èª­è¾¼ãƒ»è¡¨ç¤º âœ…
```

---

## ğŸ§ª ãƒ†ã‚¹ãƒˆçµæœ

### ãƒ†ã‚¹ãƒˆã‚¹ã‚¯ãƒªãƒ—ãƒˆ: [test-date-filtering.js](test-date-filtering.js)

**å®Ÿè¡Œã‚³ãƒãƒ³ãƒ‰**:
```bash
node test-date-filtering.js
```

**çµæœ**:
```
æœ¬æ—¥: 2026å¹´1æœˆ17æ—¥ (1/17)

ğŸ“‹ åˆ©ç”¨å¯èƒ½ãªæ—¥ä»˜ï¼ˆå–å¾—ãƒ‡ãƒ¼ã‚¿ï¼‰:
  1. 1/19(æœˆ)
  2. 1/20(ç«)
  3. 1/21(æ°´)
  4. 1/22(æœ¨)
  5. 1/23(é‡‘)

âœ… ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°å¾Œã®æ—¥ä»˜ï¼ˆé¸æŠå¯èƒ½ãªæ—¥ä»˜ï¼‰:
  1. 1/19(æœˆ) âœ… æœ¬æ—¥ä»¥é™
  2. 1/20(ç«) âœ… æœ¬æ—¥ä»¥é™
  3. 1/21(æ°´) âœ… æœ¬æ—¥ä»¥é™
  4. 1/22(æœ¨) âœ… æœ¬æ—¥ä»¥é™
  5. 1/23(é‡‘) âœ… æœ¬æ—¥ä»¥é™

ğŸ“Œ ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆæ—¥ä»˜:
  æœ€åˆã®åˆ©ç”¨å¯èƒ½æ—¥ä»˜: 1/19(æœˆ)

ğŸ¯ æœ€çµ‚çµæœ:
  ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³é¸æŠè‚¢: 5å€‹
  ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆé¸æŠ: 1/19(æœˆ)
```

âœ… **ãƒ†ã‚¹ãƒˆæˆåŠŸ**: æ—¥ä»˜ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ãŒæ­£ã—ãå‹•ä½œ

---

## ğŸ“Š å¤‰æ›´ã‚µãƒãƒªãƒ¼

| é …ç›® | å¤‰æ›´å‰ | å¤‰æ›´å¾Œ | ãƒ•ã‚¡ã‚¤ãƒ« |
|------|--------|--------|---------|
| **ãƒ¡ãƒ‹ãƒ¥ãƒ¼å‚ç…§** | `docs/menus/` | `./menus/` | `app.js` - `loadMenus()` |
| **æ—¥ä»˜å‚ç…§** | `docs/available-dates.json` | `./menus/available-dates.json` | `app.js` - `loadAvailableDates()` |
| **æ—¥ä»˜ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°** | ãªã—ï¼ˆå…¨æ—¥ä»˜è¡¨ç¤ºï¼‰ | æœ¬æ—¥ä»¥é™ã®ã¿ | `app.js` - `loadAvailableDates()` |
| **ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆæ—¥ä»˜** | æœ€åˆã®æ—¥ä»˜ | æœ¬æ—¥ï¼ˆã‚ã‚Œã°ï¼‰ | `app.js` - `loadAvailableDates()` |

---

## ğŸ”„ ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ãƒ¼é€£æº

æ¯é€±æœˆæ›œ 05:00 JST ã«è‡ªå‹•å®Ÿè¡Œ:
1. `scheduler.js` ãŒèµ·å‹•
2. `prescrap.js` ã§ 5æ—¥åˆ†ã‚’ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°
3. `menus/` ãƒ•ã‚©ãƒ«ãƒ€ã« JSON ã‚’ä¿å­˜
4. `menus/available-dates.json` ã‚’è‡ªå‹•æ›´æ–°
5. GitHub ã«è‡ªå‹•ãƒ—ãƒƒã‚·ãƒ¥
6. GitHub Pages ãŒæœ€æ–°ãƒ‡ãƒ¼ã‚¿ã‚’å‚ç…§ âœ…

---

## ğŸš€ ãƒ­ãƒ¼ã‚«ãƒ«ãƒ†ã‚¹ãƒˆæ–¹æ³•

### 1ï¸âƒ£ ã‚¦ã‚§ãƒ–ã‚µãƒ¼ãƒãƒ¼èµ·å‹•
```bash
cd /Users/onotakanori/kyowa-menu-optimizer
python3 -m http.server 8000
```

### 2ï¸âƒ£ ãƒ–ãƒ©ã‚¦ã‚¶ã§ç¢ºèª
```
http://localhost:8000
```

### 3ï¸âƒ£ ç¢ºèªãƒã‚¤ãƒ³ãƒˆ
- âœ… ãƒšãƒ¼ã‚¸èª­è¾¼æ™‚ã«ã€Œ1/19(æœˆ)ã€ãŒé¸æŠã•ã‚Œã¦ã„ã‚‹ï¼ˆæœ¬æ—¥ä»¥é™ã§æœ€åˆã®æ—¥ä»˜ï¼‰
- âœ… ãƒ‰ãƒ­ãƒƒãƒ—ãƒ€ã‚¦ãƒ³ã«ã€Œ1/19-1/23ã€ã®ã¿ãŒè¡¨ç¤º
- âœ… ä»–ã®æ—¥ä»˜ã‚’é¸æŠã™ã‚‹ã¨ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãŒåˆ‡ã‚Šæ›¿ã‚ã‚‹
- âœ… ãƒ¡ãƒ‹ãƒ¥ãƒ¼æ¤œç´¢ãƒ»æœ€é©åŒ–æ©Ÿèƒ½ãŒå‹•ä½œ

---

## ğŸ“± GitHub Pages ãƒ‡ãƒ—ãƒ­ã‚¤

### ãƒªãƒ¢ãƒ¼ãƒˆã«ãƒ—ãƒƒã‚·ãƒ¥
```bash
git push origin main
```

### ãƒªãƒ¢ãƒ¼ãƒˆç¢ºèªï¼ˆãƒ‡ãƒ—ãƒ­ã‚¤å¾Œï¼‰
```
https://yourusername.github.io/kyowa-menu-optimizer/
```

---

## ğŸ“ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå…¨ä½“æ§‹é€ ï¼ˆæœ€çµ‚ç‰ˆï¼‰

```
kyowa-menu-optimizer/
â”œâ”€â”€ ğŸ“„ index.html                      â† GitHub Pages (ä¿®æ­£æ¸ˆã¿)
â”œâ”€â”€ ğŸ“„ app.js                          â† ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ (ä¿®æ­£æ¸ˆã¿)
â”œâ”€â”€ ğŸ“„ style.css                       â† ã‚¹ã‚¿ã‚¤ãƒ«ã‚·ãƒ¼ãƒˆ
â”œâ”€â”€ ğŸ“„ package.json                    â† node-cron è¿½åŠ 
â”œâ”€â”€ ğŸ“„ package-lock.json
â”‚
â”œâ”€â”€ ğŸ”„ è‡ªå‹•åŒ–
â”œâ”€â”€ ğŸ“„ scheduler.js                    â† è‡ªå‹•ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ãƒ¼ (æ–°è¦)
â”œâ”€â”€ ğŸ“„ prescrap.js                     â† 5æ—¥åˆ†ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°
â”œâ”€â”€ ğŸ“„ scrape.js                       â† å˜ç‹¬ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°
â”‚
â”œâ”€â”€ ğŸ“‚ menus/                          â† ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒ‡ãƒ¼ã‚¿
â”‚   â”œâ”€â”€ menus_2026-01-19.json
â”‚   â”œâ”€â”€ menus_2026-01-20.json
â”‚   â”œâ”€â”€ menus_2026-01-21.json
â”‚   â”œâ”€â”€ menus_2026-01-22.json
â”‚   â”œâ”€â”€ menus_2026-01-23.json
â”‚   â””â”€â”€ available-dates.json           â† åˆ©ç”¨å¯èƒ½æ—¥ä»˜ãƒªã‚¹ãƒˆ
â”‚
â”œâ”€â”€ ğŸ“‚ src/
â”‚   â”œâ”€â”€ scraper/
â”‚   â”‚   â””â”€â”€ fetchMenus.js              â† ãƒ¡ã‚¤ãƒ³ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ‘ãƒ¼
â”‚   â”œâ”€â”€ optimizer/
â”‚   â”‚   â””â”€â”€ optimizeMenus.js           â† ãƒ¡ãƒ‹ãƒ¥ãƒ¼æœ€é©åŒ–
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â””â”€â”€ date.js                    â† æ—¥ä»˜ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚   â””â”€â”€ index.js                       â† Express ã‚µãƒ¼ãƒãƒ¼ (ã‚ªãƒ—ã‚·ãƒ§ãƒ³)
â”‚
â”œâ”€â”€ ğŸ“š ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â”œâ”€â”€ ğŸ“„ README.md                       â† ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦
â”œâ”€â”€ ğŸ“„ GITHUB_PAGES_UPDATE.md          â† GitHub Pages ä¿®æ­£ã‚¬ã‚¤ãƒ‰ (æ–°è¦)
â”œâ”€â”€ ğŸ“„ SCHEDULER_SETUP.md              â† ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ãƒ¼è¨­å®šã‚¬ã‚¤ãƒ‰ (æ–°è¦)
â”œâ”€â”€ ğŸ“„ SCRAPER_REBUILD_PLAN.md         â† ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ‘ãƒ¼è¨­è¨ˆæ›¸ (æ–°è¦)
â””â”€â”€ ğŸ“„ DEPLOYMENT_COMPLETE.md          â† ãƒ‡ãƒ—ãƒ­ã‚¤å®Œäº†å ±å‘Š

```

---

## âœ¨ å®Ÿè£…ã®ç‰¹å¾´

### ğŸ¯ ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ãƒ¬ãƒ³ãƒ‰ãƒªãƒ¼
- âœ… ãƒšãƒ¼ã‚¸é–‹ãã ã‘ã§æœ¬æ—¥ã®ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãŒè‡ªå‹•è¡¨ç¤º
- âœ… éå»æ—¥ä»˜ã¯é¸æŠä¸å¯ï¼ˆæ··ä¹±ã‚’é˜²æ­¢ï¼‰
- âœ… ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ—å®Œäº†æ—¥ä»˜ã®ã¿ãŒåˆ©ç”¨å¯èƒ½

### ğŸ¤– å®Œå…¨è‡ªå‹•åŒ–
- âœ… æ¯é€±æœˆæ›œ 05:00 JST ã«è‡ªå‹•ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°
- âœ… å¤‰æ›´ã‚’è‡ªå‹•çš„ã« GitHub ã« push
- âœ… GitHub Pages ãŒè‡ªå‹•æ›´æ–°

### ğŸ”§ ä¿å®ˆæ€§
- âœ… ãƒ¡ãƒ‹ãƒ¥ãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚’ä¸€å…ƒç®¡ç†ï¼ˆ`menus/` ãƒ•ã‚©ãƒ«ãƒ€ï¼‰
- âœ… æ—¥ä»˜ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ãƒ­ã‚¸ãƒƒã‚¯ãŒæ˜ç¢º
- âœ… ãƒ†ã‚¹ãƒˆã‚¹ã‚¯ãƒªãƒ—ãƒˆã§å‹•ä½œç¢ºèªå¯èƒ½

### ğŸ“Š ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£
- âœ… è¤‡æ•°æœˆã®æ—¥ä»˜ã«å¯¾å¿œå¯èƒ½
- âœ… ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ—æ—¥æ•°ã‚’å®¹æ˜“ã«å¤‰æ›´å¯èƒ½
- âœ… ä»–ã®æ—¥ä»˜ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã¸ã®æ‹¡å¼µãŒå®¹æ˜“

---

## ğŸ› ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### Q: "ãƒ¡ãƒ‹ãƒ¥ãƒ¼ ãƒ‡ãƒ¼ã‚¿ãŒã‚ã‚Šã¾ã›ã‚“" ã¨è¡¨ç¤ºã•ã‚Œã‚‹
```bash
# å†åº¦ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°å®Ÿè¡Œ
node prescrap.js 5
# ã¾ãŸã¯
node scheduler.js --now
```

### Q: æœ¬æ—¥ã®ãƒ‡ãƒ¼ã‚¿ãŒã‚ã‚‹ã®ã«è¡¨ç¤ºã•ã‚Œãªã„
```bash
# ãƒ–ãƒ©ã‚¦ã‚¶ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ã‚¯ãƒªã‚¢
# ã¾ãŸã¯ Ctrl+Shift+R ã§ãƒãƒ¼ãƒ‰ãƒªãƒ­ãƒ¼ãƒ‰
```

### Q: é¸æŠè‚¢ã«éå»æ—¥ä»˜ãŒå«ã¾ã‚Œã¦ã„ã‚‹
```bash
# ãƒ–ãƒ©ã‚¦ã‚¶ã®æ™‚åˆ»ç¢ºèª
# ã¾ãŸã¯ app.js ã® console.log ã§èª¿æŸ»
console.log(today); // ãƒ–ãƒ©ã‚¦ã‚¶ã®æ™‚åˆ»ç¢ºèª
```

---

## ğŸ“… Git ã‚³ãƒŸãƒƒãƒˆå±¥æ­´

```
fc128d7 (HEAD -> main) feat: è‡ªå‹•ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ãƒ¼æ©Ÿèƒ½ã‚’è¿½åŠ 
d63f790 feat: GitHub Pages ã‚’ãƒ¡ãƒ‹ãƒ¥ãƒ¼æœ€é©åŒ–å¯¾å¿œ
32864b9 (origin/main) chore: Auto-scraped menu data - 2026/01/17 16:40:31
68ecad2 Cleanup: ä¸è¦ãªãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‰Šé™¤
```

---

## ğŸ“ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ï¼ˆæ¨å¥¨ï¼‰

1. âœ… **ãƒ­ãƒ¼ã‚«ãƒ«ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ**
   ```bash
   python3 -m http.server 8000
   # http://localhost:8000 ã§ç¢ºèª
   ```

2. âœ… **GitHub ã« push**
   ```bash
   git push origin main
   ```

3. âœ… **GitHub Pages ã§ç¢ºèª**
   ```
   https://yourusername.github.io/kyowa-menu-optimizer/
   ```

4. âœ… **æœ¬ç•ªã‚µãƒ¼ãƒãƒ¼ã§ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ãƒ¼èµ·å‹•**
   ```bash
   # PM2 æ¨å¥¨
   pm2 start scheduler.js --name kyowa-scraper
   pm2 startup
   pm2 save
   ```

5. âœ… **æ¯é€±æœˆæ›œã®å®Ÿè¡Œç¢ºèª**
   ```bash
   pm2 logs kyowa-scraper
   ```

---

## ğŸ† å®Œæˆï¼

GitHub Pages ã®ä¿®æ­£ãŒå®Œäº†ã—ã¾ã—ãŸï¼

**å®Ÿè£…å†…å®¹**:
- âœ… `menus/` ãƒ•ã‚©ãƒ«ãƒ€ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å‚ç…§
- âœ… ãƒšãƒ¼ã‚¸é–‹ã„ã¦ã„ã‚‹æ—¥ä»¥é™ã®ã¿ãŒé¸æŠå¯èƒ½
- âœ… ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆæ—¥ä»˜ã¯ã€Œæœ¬æ—¥ã€
- âœ… è‡ªå‹•ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ãƒ¼ã¨ã®é€£æºå®Œäº†
- âœ… ãƒ†ã‚¹ãƒˆå®Œäº†ãƒ»å‹•ä½œç¢ºèªæ¸ˆã¿

**æ¬¡ã¯ GitHub ã«ãƒ—ãƒƒã‚·ãƒ¥ã—ã¦æœ¬ç•ªãƒ‡ãƒ—ãƒ­ã‚¤ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„ï¼**

